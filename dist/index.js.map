{"version":3,"sources":["webpack://fjsx/webpack/bootstrap","webpack://fjsx/./index.ts","webpack://fjsx/./lib/context.ts","webpack://fjsx/./lib/dom-tree.ts","webpack://fjsx/./lib/dom.ts","webpack://fjsx/./lib/f.ts","webpack://fjsx/./lib/observable-array.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./index.ts\");\n","/// <reference path=\"JSX.d.ts\" />\n\nexport * from \"./lib/f\";\nexport * from \"./lib/dom\";\nexport * from \"./lib/dom-tree\";\nexport * from \"./lib/context\";\n","const appContext: { [key: string]: any[] } = {};\n\nexport const startContext = (key: string, value: any) => {\n  if (!appContext[key]) appContext[key] = [];\n  appContext[key].push(value);\n};\n\nexport const getContextValue = (key: string) => {\n  if (appContext[key]) return appContext[key][appContext[key].length - 1];\n};\n\nexport const endContext = (key: string) => {\n  appContext[key].pop();\n};\n\nexport const Context = (props: { key: string; value: any }) => null;\n","var jsxEventProperty = /^on[A-Z]/;\r\nconst svgNS = \"http://www.w3.org/2000/svg\";\r\nexport const Fragment = Symbol(\"fjsx.Fragment\");\r\n\r\nconst setElementAttributes = (\r\n  element: Element,\r\n  attributes,\r\n  forceSetAttr: boolean\r\n) => {\r\n  let attribute = null;\r\n  for (var attributeName in attributes) {\r\n    attribute = attributes[attributeName];\r\n    if (attribute instanceof Function) {\r\n      if (jsxEventProperty.test(attributeName)) {\r\n        attributeName = attributeName.toLowerCase();\r\n        element[attributeName] = attribute;\r\n      } else attribute(element);\r\n    } else if (attribute instanceof Object) {\r\n      //style\r\n      for (var key in attribute)\r\n        if (typeof attribute[key] === \"function\") attribute[key](element);\r\n    } else {\r\n      if (forceSetAttr || attributeName.indexOf(\"-\") !== -1)\r\n        element.setAttribute(attributeName, attribute);\r\n      else element[attributeName] = attribute;\r\n    }\r\n  }\r\n};\r\n\r\nexport const createElement = (\r\n  tagName: string | Function | Symbol,\r\n  attributes: { [key: string]: any },\r\n  ...childs: any[]\r\n) => {\r\n  let element = null;\r\n  if (tagName instanceof Function) {\r\n    if (attributes === null) attributes = {};\r\n    attributes[\"children\"] = childs;\r\n    element = (tagName as any)(attributes);\r\n    if (element) element[\"$props\"] = attributes;\r\n  } else {\r\n    if (tagName === Fragment) {\r\n      element = document.createDocumentFragment();\r\n    } else {\r\n      element = document.createElement(tagName as any);\r\n      attributes && setElementAttributes(element, attributes, false);\r\n    }\r\n    element[\"$props\"] = attributes;\r\n    childs && childs.length && addChildElements(element, childs);\r\n  }\r\n  return element;\r\n};\r\n\r\nexport const createSvgElement = (\r\n  tagName: string,\r\n  attributes: { [key: string]: any },\r\n  ...childs: any[]\r\n) => {\r\n  let element = document.createElementNS(svgNS, tagName);\r\n  attributes && setElementAttributes(element, attributes, true);\r\n  childs && childs.length && addChildElements(element, childs);\r\n  return element;\r\n};\r\n\r\nexport const addChildElements = (element, childs) => {\r\n  let props = null;\r\n  for (var i = 0; i < childs.length; i++) {\r\n    if (Array.isArray(childs[i])) addChildElements(element, childs[i]);\r\n    else if (childs[i] instanceof Function) childs[i](element);\r\n    else {\r\n      if (childs[i]) {\r\n        props = childs[i][\"$props\"];\r\n        element.appendChild(\r\n          childs[i] instanceof Node\r\n            ? childs[i]\r\n            : document.createTextNode(childs[i])\r\n        );\r\n        props && props.didMount && props.didMount(element, childs[i]);\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nexport const createTextNode = parent => {\r\n  return parent.appendChild(document.createTextNode(\"\"));\r\n};\r\n","import { FJsxValue } from \"..\";\nimport { ObservableArray } from \"./observable-array\";\nimport { compute } from \"./f\";\n\nexport const conditionalElement = (parentElement, oldElement, newElement) => {\n  if (newElement instanceof Node === false)\n    newElement = document.createTextNode(newElement || \"\");\n  if (oldElement) parentElement.replaceChild(newElement, oldElement);\n  else parentElement.appendChild(newElement);\n  return newElement;\n};\n\nexport const insertToDom = (parentElement, index, itemElement) => {\n  if (itemElement instanceof Function) itemElement(parentElement);\n  else {\n    if (itemElement instanceof Node === false)\n      itemElement = document.createTextNode(itemElement);\n    parentElement.insertBefore(itemElement, parentElement.childNodes[index]);\n  }\n};\n\nexport const arrayMap = (\n  arr: FJsxValue<any[]>,\n  parentDom: HTMLElement,\n  renderReturn: (item: any, idx?: number, isInsert?: boolean) => void\n) => {\n  const oArr =\n    arr.$val instanceof ObservableArray\n      ? arr.$val\n      : new ObservableArray(arr.$val);\n\n  oArr.on(\"itemadded\", function(e) {\n    insertToDom(parentDom, e.index, renderReturn(e.item, e.index));\n  });\n\n  oArr.on(\"itemset\", function(e) {\n    parentDom.replaceChild(\n      renderReturn(e.item, e.index) as any,\n      parentDom.childNodes.item(e.index)\n    );\n  });\n\n  oArr.on(\"itemremoved\", function(e) {\n    parentDom.removeChild(parentDom.childNodes.item(e.index));\n  });\n  arr(oArr);\n\n  const renderAll = () => {\n    if (arr.$val.length === 0) parentDom.textContent = \"\";\n    else {\n      parentDom.textContent = \"\";\n      for (var i = parentDom.childElementCount; i < arr.$val.length; i++)\n        insertToDom(parentDom, i, renderReturn(arr.$val[i], i));\n    }\n  };\n  compute(renderAll, arr);\n};\n","import { ObservableArray } from \"./observable-array\";\r\n\r\nexport interface FJsxValue<T> {\r\n  (val: T): void;\r\n  readonly $val: T;\r\n  freezed: boolean;\r\n}\r\n\r\nexport type FjsxArrayEventType = \"itemadded\" | \"itemset\" | \"itemremoved\";\r\n\r\nexport const value = <T>(value: T, freezed?: boolean): FJsxValue<T> => {\r\n  const innerFn: any = (val?) => {\r\n    if (Array.isArray(val)) {\r\n      // TODO https://github.com/WebReflection/majinbuu\r\n      innerFn[\"$val\"].innerArray = val;\r\n    } else innerFn[\"$val\"] = val;\r\n    const computes = innerFn[\"computes\"];\r\n    if (computes.length)\r\n      for (var i = 0; i < computes.length; i++)\r\n        !computes[i][\"freezed\"] && computes[i](computes[i].compute());\r\n  };\r\n  innerFn[\"$val\"] = value;\r\n  innerFn[\"freezed\"] = freezed;\r\n\r\n  innerFn[\"computes\"] = [];\r\n  if (value instanceof Function) innerFn[\"compute\"] = value;\r\n  innerFn.toJSON = () => innerFn[\"$val\"];\r\n  return innerFn;\r\n};\r\n\r\nexport const array = <T>(\r\n  items: T[]\r\n): {\r\n  on?: (\r\n    type: FjsxArrayEventType,\r\n    callback: (e: { item: T; index: number }) => void\r\n  ) => void;\r\n  removeEventListener?: (type: FjsxArrayEventType) => void;\r\n  $val: T[];\r\n} => {\r\n  const arr = value(new ObservableArray(items)) as any;\r\n  arr.on = arr.$val.on;\r\n  arr.off = arr.$val.off;\r\n  arr.toJSON = () => arr.$val.innerArray;\r\n\r\n  return arr;\r\n};\r\n\r\nexport const on = (\r\n  arr: any[],\r\n  type: FjsxArrayEventType,\r\n  callback: (e: { item: any; index: number }) => void\r\n) => {\r\n  arr[\"$val\"].on(type, callback);\r\n};\r\n\r\nexport const off = (\r\n  arr: any[],\r\n  type: FjsxArrayEventType,\r\n  callback: (e: { item: any; index: number }) => void\r\n) => {\r\n  arr[\"$val\"].off(type, callback);\r\n};\r\n\r\nexport const compute = (fn: () => void, ...args: any[]) => {\r\n  var compute = value(fn);\r\n  for (var i = 0; i < args.length; i++) args[i][\"computes\"].push(compute);\r\n  fn();\r\n};\r\n\r\nexport const initCompute = (fn: () => any, ...args: any[]) => {\r\n  var cValue = value(fn());\r\n  var cmpInner = function() {\r\n    cValue(fn());\r\n  };\r\n  cmpInner[\"compute\"] = cValue;\r\n  for (var i = 0; i < args.length; i++) args[i][\"computes\"].push(cmpInner);\r\n\r\n  return cValue;\r\n};\r\n\r\nexport const setCompute = (prev: any, fn: () => void, ...args: any[]) => {\r\n  destroy(prev);\r\n  return initCompute(fn, ...args);\r\n};\r\n\r\nexport const destroy = (item: any) => {\r\n  delete item[\"compute\"];\r\n  delete item[\"computes\"];\r\n};\r\n","// https://stackoverflow.com/questions/5100376/how-to-watch-for-array-changes\nexport function ObservableArray(items) {\n  var _self = this,\n    _array = [],\n    _handlers = {\n      itemadded: [],\n      itemremoved: [],\n      itemset: []\n    };\n\n  function defineIndexProperty(index) {\n    if (!(index in _self)) {\n      Object.defineProperty(_self, index, {\n        configurable: true,\n        enumerable: true,\n        get: function() {\n          return _array[index];\n        },\n        set: function(v) {\n          _array[index] = v;\n          raiseEvent({\n            type: \"itemset\",\n            index: index,\n            item: v\n          });\n        }\n      });\n    }\n  }\n\n  function raiseEvent(event) {\n    _handlers[event.type].forEach(function(h) {\n      h.call(_self, event);\n    });\n  }\n\n  _self.on = function(eventName, handler) {\n    _handlers[eventName].push(handler);\n  };\n\n  _self.off = function(eventName, handler) {\n    var h = _handlers[eventName];\n    var ln = h.length;\n    while (--ln >= 0) {\n      if (h[ln] === handler) {\n        h.splice(ln, 1);\n      }\n    }\n  };\n\n  _self.push = function() {\n    var index;\n    for (var i = 0, ln = arguments.length; i < ln; i++) {\n      index = _array.length;\n      _array.push(arguments[i]);\n      defineIndexProperty(index);\n      raiseEvent({\n        type: \"itemadded\",\n        index: index,\n        item: arguments[i]\n      });\n    }\n    return _array.length;\n  };\n\n  _self.pop = function() {\n    if (_array.length > -1) {\n      var index = _array.length - 1,\n        item = _array.pop();\n      delete _self[index];\n      raiseEvent({\n        type: \"itemremoved\",\n        index: index,\n        item: item\n      });\n      return item;\n    }\n  };\n\n  _self.unshift = function() {\n    for (var i = 0, ln = arguments.length; i < ln; i++) {\n      _array.splice(i, 0, arguments[i]);\n      defineIndexProperty(_array.length - 1);\n      raiseEvent({\n        type: \"itemadded\",\n        index: i,\n        item: arguments[i]\n      });\n    }\n    for (; i < _array.length; i++) {\n      raiseEvent({\n        type: \"itemset\",\n        index: i,\n        item: _array[i]\n      });\n    }\n    return _array.length;\n  };\n\n  _self.shift = function() {\n    if (_array.length > -1) {\n      var item = _array.shift();\n      delete _self[_array.length];\n      raiseEvent({\n        type: \"itemremoved\",\n        index: 0,\n        item: item\n      });\n      return item;\n    }\n  };\n\n  _self.splice = function(index, howMany /*, element1, element2, ... */) {\n    var removed = [],\n      item,\n      pos;\n\n    index = index == null ? 0 : index < 0 ? _array.length + index : index;\n\n    howMany =\n      howMany == null ? _array.length - index : howMany > 0 ? howMany : 0;\n\n    while (howMany--) {\n      item = _array.splice(index, 1)[0];\n      removed.push(item);\n      delete _self[_array.length];\n      raiseEvent({\n        type: \"itemremoved\",\n        index: index + removed.length - 1,\n        item: item\n      });\n    }\n\n    for (var i = 2, ln = arguments.length; i < ln; i++) {\n      _array.splice(index, 0, arguments[i]);\n      defineIndexProperty(_array.length - 1);\n      raiseEvent({\n        type: \"itemadded\",\n        index: index,\n        item: arguments[i]\n      });\n      index++;\n    }\n\n    return removed;\n  };\n\n  Object.defineProperty(_self, \"length\", {\n    configurable: false,\n    enumerable: false,\n    get: function() {\n      return _array.length;\n    },\n    set: function(value) {\n      var n = Number(value);\n      var length = _array.length;\n      if (n % 1 === 0 && n >= 0) {\n        if (n < length) {\n          _self.splice(n);\n        } else if (n > length) {\n          _self.push.apply(_self, new Array(n - length));\n        }\n      } else {\n        throw new RangeError(\"Invalid array length\");\n      }\n      _array.length = n;\n      return value;\n    }\n  });\n\n  Object.defineProperty(_self, \"innerArray\", {\n    configurable: false,\n    enumerable: false,\n    get: function() {\n      return _array;\n    },\n    set: function(v) {\n      // _self.push.apply(_self, v); // renderAll\n      _array = v;\n    }\n  });\n\n  Object.getOwnPropertyNames(Array.prototype).forEach(function(name) {\n    if (!(name in _self)) {\n      Object.defineProperty(_self, name, {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: Array.prototype[name]\n      });\n    }\n  });\n\n  _self.toJSON = () => {\n    return _array;\n  };\n\n  if (items instanceof Array) {\n    _self.push.apply(_self, items);\n  }\n}\n"],"sourceRoot":""}